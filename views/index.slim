== render 'part/nav'

section.card.delegates-list
  .card-body
    h5.card-title Delegates
    h6.card-subtitle.text-muted total #{@delegates.count}

    table.table.table-borderless.table-sm.w-auto
      - @rank = 0
      tr
        th Rank
        th Name
        th Status
        th Votes
        th.pl-2 Ping
        th Address
      - @delegates.each do |delegate|
        - @rank += 1
        tr
          td== @rank
          td== address_link(delegate.addr)
          td== delegate_state_badge(delegate.state)
          == sem_td(delegate.delegate_state ? delegate.delegate_state.votes_sum : 0)
          td.text-muted.text-right== delegate_state_badge(delegate.alive_state)
          td== address_link(delegate.addr, name: false, hex: true)

== render 'part/debug'
